<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•ˆì „ë„¤ë¹„</title>
    <link rel="stylesheet" href="/css/index/index.css"/>
    <link rel="icon" type="image/png" href="/img/logo/favicon.png">
    <style>
        /* ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .kb-logout-btn {
            border: none;
            background: none;
            color: #888;
            cursor: pointer;
            text-decoration: underline;
            font-size: 13px;
            padding: 0;
            margin-left: 10px;
        }
        .kb-logout-btn:hover { color: #ff4d4d; }

        /* ì¹´ë“œ ìƒ‰ìƒ í¬ì¸íŠ¸ */
        .kb-card-notice .kb-card-icon { color: #7952b3; } /* ê³µì§€ì‚¬í•­ ë³´ë¼ìƒ‰ */

        /* ë‚´ ì •ë³´ ë§í¬ ìŠ¤íƒ€ì¼ (ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ) */
        .my-info-link:hover { text-decoration: underline; opacity: 0.8; }
    </style>

    <!-- ğŸŒŸ íŒŒë¹„ì½˜ ì¶”ê°€: /img/logo/favicon.png ë° /img/logo/favicon.ico ğŸŒŸ -->
    <link rel="icon" type="image/png" href="/img/logo/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico">
</head>
<body>

<div class="kb-wrapper">
    <div class="kb-content-wrap">

        <a href="/" class="kb-title-link">
            <div class="kb-title-container">
                <img src="/img/logo/200px-ì•ˆì „ë„¤ë¹„_ë¡œê³ .png" alt="ì•ˆì „ë„¤ë¹„ ë¡œê³ " class="kb-logo-img">
                <h1 class="kb-title-text">ì•ˆì „ë„¤ë¹„</h1>
            </div>
        </a>

        <div sec:authorize="isAuthenticated()" style="text-align: center; margin-bottom: 30px; color: #666;">
            <a href="/myInfo" class="my-info-link" style="text-decoration: none; color: inherit;" title="ë‚´ ì •ë³´ ê´€ë¦¬">
                <span style="font-weight: bold; color: #337cf4;">
                    <span sec:authentication="name"></span>ë‹˜
                </span>
            </a> ë°˜ê°‘ìŠµë‹ˆë‹¤!

            <form action="/logout" method="post" style="display: inline-block;">
                <button type="submit" class="kb-logout-btn">ë¡œê·¸ì•„ì›ƒ</button>
            </form>
        </div>

        <div class="kb-nav-grid">

            <a sec:authorize="isAnonymous()" href="/login" class="kb-nav-card">
                <div class="kb-card-icon">ğŸ”’</div>
                <span class="kb-card-text">ë¡œê·¸ì¸</span>
            </a>
            <a sec:authorize="isAnonymous()" href="/signup" class="kb-nav-card">
                <div class="kb-card-icon">ğŸ“</div>
                <span class="kb-card-text">íšŒì›ê°€ì…</span>
            </a>

            <a sec:authorize="isAuthenticated()" href="/disasterMessage" class="kb-nav-card kb-card-message">
                <div class="kb-card-icon">ğŸ“¢</div>
                <span class="kb-card-text">ì¬ë‚œë¬¸ì</span>
            </a>
            <a sec:authorize="isAuthenticated()" href="/map" class="kb-nav-card kb-card-shelter">
                <div class="kb-card-icon">ğŸš§</div>
                <span class="kb-card-text">ì¸ê·¼ ëŒ€í”¼ì†Œ</span>
            </a>

<!--            <a href="/inquiry/list" class="kb-nav-card kb-card-notice">-->
                <a href="/notice" class="kb-nav-card kb-card-notice">
                <div class="kb-card-icon">ğŸ””</div>
                <span class="kb-card-text">ê³µì§€ì‚¬í•­</span>
            </a>

            <a href="/disasterGuide" class="kb-nav-card kb-card-manual">
                <div class="kb-card-icon">ğŸ“–</div>
                <span class="kb-card-text">ì¬ë‚œ ëŒ€í”¼ìš”ë ¹</span>
            </a>
        </div>
    </div>

    <footer class="kb-footer">
        <div class="kb-footer-inner">
            <div class="kb-footer-nav">
                <a href="#">ì´ìš©ì•ˆë‚´</a>
                <a href="#">ë¬¸ì„œë³´ê¸° í”„ë¡œê·¸ë¨</a>
                <a href="#">ì €ì‘ê¶Œì •ì±…</a>
                <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a href="#">ê¸°ê´€ì†Œê°œ</a>
                <a href="https://plus.gov.kr/">ì •ë¶€24</a>
            </div>
            <div class="kb-footer-info">
                <p>ì£¼ì†Œ : ì¸ì²œê´‘ì—­ì‹œ ë¯¸ì¶”í™€êµ¬ ì¸í•˜ë¡œ 100 (ì¸í•˜ê³µì—…ì „ë¬¸ëŒ€í•™)</p>
                <p>ì•ˆì „ë„¤ë¹„ ì½œì„¼í„° 032-6974-5885</p>
                <p class="kb-copyright">Â© Safety Nevi. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // URL íŒŒë¼ë¯¸í„° í™•ì¸
        const urlParams = new URLSearchParams(window.location.search);

        // error=deniedê°€ ìˆìœ¼ë©´ ê²½ê³ ì°½ ë„ìš°ê¸°
        if (urlParams.get('error') === 'denied') {
            alert("ğŸš« ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\nê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.");

            // URLì—ì„œ íŒŒë¼ë¯¸í„° ì§€ìš°ê¸° (ìƒˆë¡œê³ ì¹¨ ì‹œ ì•Œë¦¼ ë°˜ë³µ ë°©ì§€)
            const newUrl = window.location.protocol + "//" + window.location.host + window.location.pathname;
            window.history.replaceState({path: newUrl}, '', newUrl);
        }
    });
</script>

</body>


</html>